var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AdvancedImagePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  defaultPercent: 50,
  mobileAutoFull: true,
  mobileThreshold: 768
};
var PERCENT_PATTERN = /(\d{1,3})%$/;
var AdvancedImagePlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.settings = DEFAULT_SETTINGS;
    this.styleEl = null;
    this.observer = null;
    // 再スキャンが連続で走りすぎないよう制御するタイマー
    this.debounceTimer = null;
  }
  async onload() {
    await this.loadSettings();
    this.updateMobileStyle();
    this.registerMarkdownPostProcessor((el, ctx) => {
      this.processImages(el);
    });
    this.registerEvent(
      this.app.workspace.on("layout-change", () => {
        this.setupLivePreviewObserver();
        this.debouncedScanAll();
      })
    );
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        this.debouncedScanAll();
      })
    );
    this.registerEvent(
      this.app.workspace.on("editor-change", () => {
        this.debouncedScanAll();
      })
    );
    this.app.workspace.onLayoutReady(() => {
      this.setupLivePreviewObserver();
      this.debouncedScanAll();
    });
    this.registerEvent(
      this.app.workspace.on("editor-paste", (evt, editor, view) => {
        this.handleImageInsert(editor);
      })
    );
    this.registerEvent(
      this.app.workspace.on("editor-drop", (evt, editor, view) => {
        this.handleImageInsert(editor);
      })
    );
    this.addSettingTab(new AdvancedImageSettingTab(this.app, this));
  }
  onunload() {
    if (this.styleEl) {
      this.styleEl.remove();
      this.styleEl = null;
    }
    if (this.observer) {
      this.observer.disconnect();
      this.observer = null;
    }
    if (this.debounceTimer) {
      clearTimeout(this.debounceTimer);
      this.debounceTimer = null;
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.updateMobileStyle();
  }
  // モバイル用のCSSを動的に生成して追加する
  updateMobileStyle() {
    if (this.styleEl) {
      this.styleEl.remove();
    }
    this.styleEl = document.createElement("style");
    this.styleEl.id = "advanced-image-mobile-style";
    if (this.settings.mobileAutoFull) {
      this.styleEl.textContent = `
				@media (max-width: ${this.settings.mobileThreshold}px) {
					img.advanced-image-percent {
						width: 100% !important;
						max-width: 100% !important;
					}
				}
			`;
    } else {
      this.styleEl.textContent = "";
    }
    document.head.appendChild(this.styleEl);
  }
  // 画像要素を探してパーセント表示を適用する
  processImages(el) {
    const images = el.querySelectorAll("img");
    images.forEach((img) => {
      const alt = img.alt;
      if (!alt) {
        if (img.classList.contains("advanced-image-percent")) {
          img.classList.remove("advanced-image-percent");
          img.style.width = "";
          img.style.maxWidth = "";
          img.style.height = "";
        }
        return;
      }
      const match = alt.match(PERCENT_PATTERN);
      if (!match) {
        if (img.classList.contains("advanced-image-percent")) {
          img.classList.remove("advanced-image-percent");
          img.style.width = "";
          img.style.maxWidth = "";
          img.style.height = "";
        }
        return;
      }
      const percent = parseInt(match[1], 10);
      if (percent < 1 || percent > 100)
        return;
      img.classList.add("advanced-image-percent");
      img.style.width = `${percent}%`;
      img.style.maxWidth = `${percent}%`;
      img.style.height = "auto";
    });
    const embeds = el.querySelectorAll(".internal-embed");
    embeds.forEach((embed) => {
      const alt = embed.getAttribute("alt");
      if (!alt)
        return;
      const match = alt.match(PERCENT_PATTERN);
      if (!match)
        return;
      const percent = parseInt(match[1], 10);
      if (percent < 1 || percent > 100)
        return;
      const img = embed.querySelector("img");
      if (img) {
        img.classList.add("advanced-image-percent");
        img.style.width = `${percent}%`;
        img.style.maxWidth = `${percent}%`;
        img.style.height = "auto";
      }
    });
  }
  // ワークスペース全体の画像を再スキャンする（連続実行を防ぐ制御付き）
  debouncedScanAll() {
    if (this.debounceTimer) {
      clearTimeout(this.debounceTimer);
    }
    this.debounceTimer = setTimeout(() => {
      const workspace = document.querySelector(".workspace");
      if (workspace) {
        this.processImages(workspace);
      }
    }, 100);
  }
  // Live Preview モードで画像を監視して処理する
  setupLivePreviewObserver() {
    if (this.observer) {
      this.observer.disconnect();
    }
    this.observer = new MutationObserver((mutations) => {
      let needsScan = false;
      for (const mutation of mutations) {
        if (mutation.addedNodes.length > 0) {
          mutation.addedNodes.forEach((node) => {
            if (node instanceof HTMLElement) {
              this.processImages(node);
            }
          });
        }
        if (mutation.type === "attributes") {
          needsScan = true;
        }
      }
      if (needsScan) {
        this.debouncedScanAll();
      }
    });
    const container = document.querySelector(".workspace");
    if (container) {
      this.observer.observe(container, {
        childList: true,
        subtree: true,
        // 属性の変更も監視する（alt, src などの変化を検知するため）
        attributes: true,
        attributeFilter: ["alt", "src", "class"]
      });
    }
    this.debouncedScanAll();
  }
  // 画像がペースト/ドロップされたとき、デフォルトの%値を自動で追加する
  handleImageInsert(editor) {
    const defaultPercent = this.settings.defaultPercent;
    setTimeout(() => {
      const cursor = editor.getCursor();
      const line = editor.getLine(cursor.line);
      const imagePattern = /!\[\[([^\]]+\.(png|jpg|jpeg|gif|bmp|svg|webp|avif|heic|tif|tiff))\]\]/gi;
      let newLine = line;
      let modified = false;
      newLine = line.replace(imagePattern, (match, filename, ext) => {
        if (filename.includes("|"))
          return match;
        modified = true;
        return `![[${filename}|${defaultPercent}%]]`;
      });
      if (modified) {
        editor.setLine(cursor.line, newLine);
      }
    }, 500);
  }
};
var AdvancedImageSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30D1\u30FC\u30BB\u30F3\u30C8\u5024").setDesc("\u753B\u50CF\u3092\u30DA\u30FC\u30B9\u30C8\u3057\u305F\u3068\u304D\u3001\u81EA\u52D5\u3067\u4ED8\u304F\u30D1\u30FC\u30BB\u30F3\u30C8\u5024\uFF0810\u301C100\uFF09").addSlider(
      (slider) => slider.setLimits(10, 100, 5).setValue(this.plugin.settings.defaultPercent).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.defaultPercent = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("\u30E2\u30D0\u30A4\u30EB\u3067\u81EA\u52D5100%\u8868\u793A").setDesc("\u753B\u9762\u5E45\u304C\u5C0F\u3055\u3044\u30C7\u30D0\u30A4\u30B9\u3067\u306F\u3001\u30D1\u30FC\u30BB\u30F3\u30C8\u6307\u5B9A\u306B\u95A2\u4FC2\u306A\u304F\u753B\u50CF\u3092100%\u5E45\u3067\u8868\u793A\u3057\u307E\u3059").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.mobileAutoFull).onChange(async (value) => {
        this.plugin.settings.mobileAutoFull = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("\u30E2\u30D0\u30A4\u30EB\u5224\u5B9A\u306E\u753B\u9762\u5E45\uFF08px\uFF09").setDesc("\u3053\u306E\u5E45\u4EE5\u4E0B\u306E\u30C7\u30D0\u30A4\u30B9\u3092\u30E2\u30D0\u30A4\u30EB\u3068\u3057\u3066\u6271\u3044\u307E\u3059\uFF08\u521D\u671F\u5024: 768\uFF09").addText(
      (text) => text.setPlaceholder("768").setValue(String(this.plugin.settings.mobileThreshold)).onChange(async (value) => {
        const num = parseInt(value, 10);
        if (!isNaN(num) && num > 0) {
          this.plugin.settings.mobileThreshold = num;
          await this.plugin.saveSettings();
        }
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBBcHAsIFNldHRpbmcsIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsIE1hcmtkb3duVmlldyB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG4vLyBcdTMwRDdcdTMwRTlcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNkVcdThBMkRcdTVCOUFcdTMwNkVcdTU3OEJcdTVCOUFcdTdGQTlcbmludGVyZmFjZSBBZHZhbmNlZEltYWdlU2V0dGluZ3Mge1xuXHQvLyBcdTMwQzdcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzhcdTMwNkVcdTMwRDFcdTMwRkNcdTMwQkJcdTMwRjNcdTMwQzhcdTUwMjRcdUZGMDhcdTc1M0JcdTUwQ0ZcdTMwREFcdTMwRkNcdTMwQjlcdTMwQzhcdTY2NDJcdTMwNkJcdTgxRUFcdTUyRDVcdTMwNjdcdTRFRDhcdTMwNEZcdTUwMjRcdUZGMDlcblx0ZGVmYXVsdFBlcmNlbnQ6IG51bWJlcjtcblx0Ly8gXHUzMEUyXHUzMEQwXHUzMEE0XHUzMEVCXHUzMDY3XHU4MUVBXHU1MkQ1MTAwJVx1ODg2OFx1NzkzQVx1MzA2Qlx1MzA1OVx1MzA4Qlx1MzA0Qlx1MzA2OVx1MzA0Nlx1MzA0QlxuXHRtb2JpbGVBdXRvRnVsbDogYm9vbGVhbjtcblx0Ly8gXHUzMEUyXHUzMEQwXHUzMEE0XHUzMEVCXHU1MjI0XHU1QjlBXHUzMDZFXHU3NTNCXHU5NzYyXHU1RTQ1XHUzMDU3XHUzMDREXHUzMDQ0XHU1MDI0XHVGRjA4cHhcdUZGMDlcblx0bW9iaWxlVGhyZXNob2xkOiBudW1iZXI7XG59XG5cbi8vIFx1OEEyRFx1NUI5QVx1MzA2RVx1NTIxRFx1NjcxRlx1NTAyNFxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQWR2YW5jZWRJbWFnZVNldHRpbmdzID0ge1xuXHRkZWZhdWx0UGVyY2VudDogNTAsXG5cdG1vYmlsZUF1dG9GdWxsOiB0cnVlLFxuXHRtb2JpbGVUaHJlc2hvbGQ6IDc2OCxcbn07XG5cbi8vIFx1MzBEMVx1MzBGQ1x1MzBCQlx1MzBGM1x1MzBDOFx1NjMwN1x1NUI5QVx1MzA2RVx1MzBEMVx1MzBCRlx1MzBGQ1x1MzBGM1x1RkYwOFx1NEY4QjogXCI1MCVcIiBcdTMwODQgXCJpbWFnZSA1MCVcIlx1RkYwOVxuY29uc3QgUEVSQ0VOVF9QQVRURVJOID0gLyhcXGR7MSwzfSklJC87XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkdmFuY2VkSW1hZ2VQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQWR2YW5jZWRJbWFnZVNldHRpbmdzID0gREVGQVVMVF9TRVRUSU5HUztcblx0cHJpdmF0ZSBzdHlsZUVsOiBIVE1MU3R5bGVFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcblx0Ly8gXHU1MThEXHUzMEI5XHUzMEFEXHUzMEUzXHUzMEYzXHUzMDRDXHU5MDIzXHU3RDlBXHUzMDY3XHU4RDcwXHUzMDhBXHUzMDU5XHUzMDRFXHUzMDZBXHUzMDQ0XHUzMDg4XHUzMDQ2XHU1MjM2XHU1RkExXHUzMDU5XHUzMDhCXHUzMEJGXHUzMEE0XHUzMERFXHUzMEZDXG5cdHByaXZhdGUgZGVib3VuY2VUaW1lcjogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0Ly8gXHU4QTJEXHU1QjlBXHUzMDkyXHU4QUFEXHUzMDdGXHU4RkJDXHUzMDgwXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdC8vIFx1MzBFMlx1MzBEMFx1MzBBNFx1MzBFQlx1NzUyOFx1MzA2RUNTU1x1RkYwOFx1MzBFMVx1MzBDN1x1MzBBM1x1MzBBMlx1MzBBRlx1MzBBOFx1MzBFQVx1RkYwOVx1MzA5Mlx1NTJENVx1NzY4NFx1MzA2Qlx1OEZGRFx1NTJBMFxuXHRcdHRoaXMudXBkYXRlTW9iaWxlU3R5bGUoKTtcblxuXHRcdC8vIFJlYWRpbmcgVmlld1x1RkYwOFx1OTVCMlx1ODlBN1x1MzBFMlx1MzBGQ1x1MzBDOVx1RkYwOVx1MzA2N1x1NzUzQlx1NTBDRlx1MzA2RVx1MzBEMVx1MzBGQ1x1MzBCQlx1MzBGM1x1MzBDOFx1ODg2OFx1NzkzQVx1MzA5Mlx1NTFFNlx1NzQwNlx1MzA1OVx1MzA4QlxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoKGVsOiBIVE1MRWxlbWVudCwgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0KSA9PiB7XG5cdFx0XHR0aGlzLnByb2Nlc3NJbWFnZXMoZWwpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gTGl2ZSBQcmV2aWV3XHVGRjA4XHU3REU4XHU5NkM2XHUzMEUyXHUzMEZDXHUzMEM5XHVGRjA5XHUzMDY3XHU3NTNCXHU1MENGXHUzMDZFXHUzMEQxXHUzMEZDXHUzMEJCXHUzMEYzXHUzMEM4XHU4ODY4XHU3OTNBXHUzMDkyXHU1MUU2XHU3NDA2XHUzMDU5XHUzMDhCXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwibGF5b3V0LWNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2V0dXBMaXZlUHJldmlld09ic2VydmVyKCk7XG5cdFx0XHRcdHRoaXMuZGVib3VuY2VkU2NhbkFsbCgpO1xuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0Ly8gXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1MjA3XHUzMDhBXHU2NkZGXHUzMDQ4XHUzMDVGXHUzMDY4XHUzMDREXHUzMDZCXHUzMDgyXHU1MThEXHUzMEI5XHUzMEFEXHUzMEUzXHUzMEYzXHUzMDU5XHUzMDhCXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiYWN0aXZlLWxlYWYtY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTY2FuQWxsKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvLyBcdTMwQThcdTMwQzdcdTMwQTNcdTMwQkZcdTMwNkVcdTUxODVcdTVCQjlcdTMwNENcdTU5MDlcdTMwOEZcdTMwNjNcdTMwNUZcdTMwNjhcdTMwNERcdTMwNkJcdTMwODJcdTUxOERcdTMwQjlcdTMwQURcdTMwRTNcdTMwRjNcdTMwNTlcdTMwOEJcblx0XHQvLyBcdUZGMDhMaXZlIFByZXZpZXdcdTMwNjcgfDUwJSBcdTIxOTIgfDMwJSBcdTMwNkVcdTMwODhcdTMwNDZcdTMwNkJcdTY2RjhcdTMwNERcdTYzREJcdTMwNDhcdTMwNUZcdTMwNjhcdTMwNERcdTMwNkJcdTUzQ0RcdTY2MjBcdTMwNTlcdTMwOEJcdTMwNUZcdTMwODFcdUZGMDlcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJlZGl0b3ItY2hhbmdlXCIsICgpID0+IHtcblx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTY2FuQWxsKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvLyBcdTUyMURcdTU2REVcdTMwNkVcdThBMkRcdTVCOUFcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XG5cdFx0XHR0aGlzLnNldHVwTGl2ZVByZXZpZXdPYnNlcnZlcigpO1xuXHRcdFx0dGhpcy5kZWJvdW5jZWRTY2FuQWxsKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBcdTc1M0JcdTUwQ0ZcdTMwOTJcdTMwREFcdTMwRkNcdTMwQjlcdTMwQzgvXHUzMEM5XHUzMEVEXHUzMEMzXHUzMEQ3XHUzMDU3XHUzMDVGXHUzMDY4XHUzMDREXHUzMDAxXHU4MUVBXHU1MkQ1XHUzMDY3XHUzMEM3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEM4XHUzMDZFJVx1NTAyNFx1MzA5Mlx1NEVEOFx1MzA1MVx1MzA4QlxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImVkaXRvci1wYXN0ZVwiLCAoZXZ0OiBDbGlwYm9hcmRFdmVudCwgZWRpdG9yLCB2aWV3KSA9PiB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlSW1hZ2VJbnNlcnQoZWRpdG9yKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImVkaXRvci1kcm9wXCIsIChldnQ6IERyYWdFdmVudCwgZWRpdG9yLCB2aWV3KSA9PiB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlSW1hZ2VJbnNlcnQoZWRpdG9yKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIFx1OEEyRFx1NUI5QVx1NzUzQlx1OTc2Mlx1MzA5Mlx1OEZGRFx1NTJBMFxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQWR2YW5jZWRJbWFnZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIFx1MzBEN1x1MzBFOVx1MzBCMFx1MzBBNFx1MzBGM1x1MzA5Mlx1NzEyMVx1NTJCOVx1MzA2Qlx1MzA1N1x1MzA1Rlx1MzA2OFx1MzA0RFx1MzAwMVx1OEZGRFx1NTJBMFx1MzA1N1x1MzA1Rlx1MzBCOVx1MzBCRlx1MzBBNFx1MzBFQlx1MzA5Mlx1NTI0QVx1OTY2NFx1MzA1OVx1MzA4QlxuXHRcdGlmICh0aGlzLnN0eWxlRWwpIHtcblx0XHRcdHRoaXMuc3R5bGVFbC5yZW1vdmUoKTtcblx0XHRcdHRoaXMuc3R5bGVFbCA9IG51bGw7XG5cdFx0fVxuXHRcdC8vIE11dGF0aW9uT2JzZXJ2ZXJcdTMwOTJcdTUwNUNcdTZCNjJcdTMwNTlcdTMwOEJcblx0XHRpZiAodGhpcy5vYnNlcnZlcikge1xuXHRcdFx0dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cdFx0XHR0aGlzLm9ic2VydmVyID0gbnVsbDtcblx0XHR9XG5cdFx0Ly8gXHUzMEJGXHUzMEE0XHUzMERFXHUzMEZDXHUzMDkyXHU1MDVDXHU2QjYyXHUzMDU5XHUzMDhCXG5cdFx0aWYgKHRoaXMuZGVib3VuY2VUaW1lcikge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XG5cdFx0XHR0aGlzLmRlYm91bmNlVGltZXIgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHRcdC8vIFx1OEEyRFx1NUI5QVx1NTkwOVx1NjZGNFx1NjY0Mlx1MzA2Qlx1MzBFMlx1MzBEMFx1MzBBNFx1MzBFQlx1MzBCOVx1MzBCRlx1MzBBNFx1MzBFQlx1MzA5Mlx1NjZGNFx1NjVCMFx1MzA1OVx1MzA4QlxuXHRcdHRoaXMudXBkYXRlTW9iaWxlU3R5bGUoKTtcblx0fVxuXG5cdC8vIFx1MzBFMlx1MzBEMFx1MzBBNFx1MzBFQlx1NzUyOFx1MzA2RUNTU1x1MzA5Mlx1NTJENVx1NzY4NFx1MzA2Qlx1NzUxRlx1NjIxMFx1MzA1N1x1MzA2Nlx1OEZGRFx1NTJBMFx1MzA1OVx1MzA4QlxuXHR1cGRhdGVNb2JpbGVTdHlsZSgpIHtcblx0XHQvLyBcdTY1RTJcdTVCNThcdTMwNkVcdTMwQjlcdTMwQkZcdTMwQTRcdTMwRUJcdTg5ODFcdTdEMjBcdTMwNENcdTMwNDJcdTMwOENcdTMwNzBcdTUyNEFcdTk2NjRcblx0XHRpZiAodGhpcy5zdHlsZUVsKSB7XG5cdFx0XHR0aGlzLnN0eWxlRWwucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXHRcdHRoaXMuc3R5bGVFbC5pZCA9IFwiYWR2YW5jZWQtaW1hZ2UtbW9iaWxlLXN0eWxlXCI7XG5cblx0XHRpZiAodGhpcy5zZXR0aW5ncy5tb2JpbGVBdXRvRnVsbCkge1xuXHRcdFx0Ly8gXHUzMEUyXHUzMEQwXHUzMEE0XHUzMEVCXHUzMDY3XHUzMDZGXHUzMEQxXHUzMEZDXHUzMEJCXHUzMEYzXHUzMEM4XHU2MzA3XHU1QjlBXHUzMDZCXHU5NUEyXHU0RkMyXHUzMDZBXHUzMDRGMTAwJVx1NUU0NVx1MzA2N1x1ODg2OFx1NzkzQVx1MzA1OVx1MzA4QlxuXHRcdFx0dGhpcy5zdHlsZUVsLnRleHRDb250ZW50ID0gYFxuXHRcdFx0XHRAbWVkaWEgKG1heC13aWR0aDogJHt0aGlzLnNldHRpbmdzLm1vYmlsZVRocmVzaG9sZH1weCkge1xuXHRcdFx0XHRcdGltZy5hZHZhbmNlZC1pbWFnZS1wZXJjZW50IHtcblx0XHRcdFx0XHRcdHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG5cdFx0XHRcdFx0XHRtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdGA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3R5bGVFbC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0fVxuXG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlRWwpO1xuXHR9XG5cblx0Ly8gXHU3NTNCXHU1MENGXHU4OTgxXHU3RDIwXHUzMDkyXHU2M0EyXHUzMDU3XHUzMDY2XHUzMEQxXHUzMEZDXHUzMEJCXHUzMEYzXHUzMEM4XHU4ODY4XHU3OTNBXHUzMDkyXHU5MDY5XHU3NTI4XHUzMDU5XHUzMDhCXG5cdHByb2Nlc3NJbWFnZXMoZWw6IEhUTUxFbGVtZW50KSB7XG5cdFx0Y29uc3QgaW1hZ2VzID0gZWwucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKTtcblx0XHRpbWFnZXMuZm9yRWFjaCgoaW1nOiBIVE1MSW1hZ2VFbGVtZW50KSA9PiB7XG5cdFx0XHQvLyBhbHRcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwNEJcdTMwODlcdTMwRDFcdTMwRkNcdTMwQkJcdTMwRjNcdTMwQzhcdTUwMjRcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEJcblx0XHRcdGNvbnN0IGFsdCA9IGltZy5hbHQ7XG5cdFx0XHRpZiAoIWFsdCkge1xuXHRcdFx0XHQvLyBhbHRcdTMwNENcdTMwNkFcdTMwNDRcdTU4MzRcdTU0MDhcdTMwMDFcdTMwRDFcdTMwRkNcdTMwQkJcdTMwRjNcdTMwQzhcdTYzMDdcdTVCOUFcdTMwNENcdTUyNEFcdTk2NjRcdTMwNTVcdTMwOENcdTMwNUZcdTUzRUZcdTgwRkRcdTYwMjdcdTMwNENcdTMwNDJcdTMwOEJcblx0XHRcdFx0Ly8gXHU0RUU1XHU1MjREXHU5MDY5XHU3NTI4XHUzMDU3XHUzMDVGXHUzMEI5XHUzMEJGXHUzMEE0XHUzMEVCXHUzMDkyXHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMDU5XHUzMDhCXG5cdFx0XHRcdGlmIChpbWcuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWR2YW5jZWQtaW1hZ2UtcGVyY2VudFwiKSkge1xuXHRcdFx0XHRcdGltZy5jbGFzc0xpc3QucmVtb3ZlKFwiYWR2YW5jZWQtaW1hZ2UtcGVyY2VudFwiKTtcblx0XHRcdFx0XHRpbWcuc3R5bGUud2lkdGggPSBcIlwiO1xuXHRcdFx0XHRcdGltZy5zdHlsZS5tYXhXaWR0aCA9IFwiXCI7XG5cdFx0XHRcdFx0aW1nLnN0eWxlLmhlaWdodCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBtYXRjaCA9IGFsdC5tYXRjaChQRVJDRU5UX1BBVFRFUk4pO1xuXHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHQvLyBcdTMwRDFcdTMwRkNcdTMwQkJcdTMwRjNcdTMwQzhcdTMwRDFcdTMwQkZcdTMwRkNcdTMwRjNcdTMwNkJcdTRFMDBcdTgxRjRcdTMwNTdcdTMwNkFcdTMwNDRcdTU4MzRcdTU0MDhcdTMwODJcdTMwRUFcdTMwQkJcdTMwQzNcdTMwQzhcdTMwNTlcdTMwOEJcblx0XHRcdFx0aWYgKGltZy5jbGFzc0xpc3QuY29udGFpbnMoXCJhZHZhbmNlZC1pbWFnZS1wZXJjZW50XCIpKSB7XG5cdFx0XHRcdFx0aW1nLmNsYXNzTGlzdC5yZW1vdmUoXCJhZHZhbmNlZC1pbWFnZS1wZXJjZW50XCIpO1xuXHRcdFx0XHRcdGltZy5zdHlsZS53aWR0aCA9IFwiXCI7XG5cdFx0XHRcdFx0aW1nLnN0eWxlLm1heFdpZHRoID0gXCJcIjtcblx0XHRcdFx0XHRpbWcuc3R5bGUuaGVpZ2h0ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHBlcmNlbnQgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuXHRcdFx0aWYgKHBlcmNlbnQgPCAxIHx8IHBlcmNlbnQgPiAxMDApIHJldHVybjtcblxuXHRcdFx0Ly8gXHUzMEQxXHUzMEZDXHUzMEJCXHUzMEYzXHUzMEM4XHUzMDZCXHU1N0ZBXHUzMDY1XHUzMDQ0XHUzMDY2XHU1RTQ1XHUzMDkyXHU4QTJEXHU1QjlBXHUzMDU5XHUzMDhCXG5cdFx0XHRpbWcuY2xhc3NMaXN0LmFkZChcImFkdmFuY2VkLWltYWdlLXBlcmNlbnRcIik7XG5cdFx0XHRpbWcuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuXHRcdFx0aW1nLnN0eWxlLm1heFdpZHRoID0gYCR7cGVyY2VudH0lYDtcblx0XHRcdGltZy5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcblx0XHR9KTtcblxuXHRcdC8vIExpdmUgUHJldmlldyBcdTMwNjdcdTMwNkYgLmludGVybmFsLWVtYmVkIFx1ODk4MVx1N0QyMFx1MzA2RVx1NEUyRFx1MzA2Qlx1NzUzQlx1NTBDRlx1MzA0Q1x1MzA0Mlx1MzA4QlxuXHRcdC8vIC5pbnRlcm5hbC1lbWJlZCBcdTMwNkUgYWx0IFx1NUM1RVx1NjAyN1x1MzA2Qlx1MzBEMVx1MzBGQ1x1MzBCQlx1MzBGM1x1MzBDOFx1NTAyNFx1MzA0Q1x1NTE2NVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA4Qlx1NTgzNFx1NTQwOFx1MzA4Mlx1MzA0Mlx1MzA4QlxuXHRcdGNvbnN0IGVtYmVkcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW50ZXJuYWwtZW1iZWRcIik7XG5cdFx0ZW1iZWRzLmZvckVhY2goKGVtYmVkOiBFbGVtZW50KSA9PiB7XG5cdFx0XHRjb25zdCBhbHQgPSBlbWJlZC5nZXRBdHRyaWJ1dGUoXCJhbHRcIik7XG5cdFx0XHRpZiAoIWFsdCkgcmV0dXJuO1xuXG5cdFx0XHRjb25zdCBtYXRjaCA9IGFsdC5tYXRjaChQRVJDRU5UX1BBVFRFUk4pO1xuXHRcdFx0aWYgKCFtYXRjaCkgcmV0dXJuO1xuXG5cdFx0XHRjb25zdCBwZXJjZW50ID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcblx0XHRcdGlmIChwZXJjZW50IDwgMSB8fCBwZXJjZW50ID4gMTAwKSByZXR1cm47XG5cblx0XHRcdC8vIGVtYmVkIFx1NTE4NVx1MzA2RVx1NzUzQlx1NTBDRlx1MzA2Qlx1MzBCOVx1MzBCRlx1MzBBNFx1MzBFQlx1MzA5Mlx1OTA2OVx1NzUyOFx1MzA1OVx1MzA4QlxuXHRcdFx0Y29uc3QgaW1nID0gZW1iZWQucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcblx0XHRcdGlmIChpbWcpIHtcblx0XHRcdFx0aW1nLmNsYXNzTGlzdC5hZGQoXCJhZHZhbmNlZC1pbWFnZS1wZXJjZW50XCIpO1xuXHRcdFx0XHRpbWcuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuXHRcdFx0XHRpbWcuc3R5bGUubWF4V2lkdGggPSBgJHtwZXJjZW50fSVgO1xuXHRcdFx0XHRpbWcuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBcdTMwRUZcdTMwRkNcdTMwQUZcdTMwQjlcdTMwREFcdTMwRkNcdTMwQjlcdTUxNjhcdTRGNTNcdTMwNkVcdTc1M0JcdTUwQ0ZcdTMwOTJcdTUxOERcdTMwQjlcdTMwQURcdTMwRTNcdTMwRjNcdTMwNTlcdTMwOEJcdUZGMDhcdTkwMjNcdTdEOUFcdTVCOUZcdTg4NENcdTMwOTJcdTk2MzJcdTMwNTBcdTUyMzZcdTVGQTFcdTRFRDhcdTMwNERcdUZGMDlcblx0ZGVib3VuY2VkU2NhbkFsbCgpIHtcblx0XHRpZiAodGhpcy5kZWJvdW5jZVRpbWVyKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVyKTtcblx0XHR9XG5cdFx0dGhpcy5kZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRjb25zdCB3b3Jrc3BhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndvcmtzcGFjZVwiKTtcblx0XHRcdGlmICh3b3Jrc3BhY2UpIHtcblx0XHRcdFx0dGhpcy5wcm9jZXNzSW1hZ2VzKHdvcmtzcGFjZSBhcyBIVE1MRWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fSwgMTAwKTtcblx0fVxuXG5cdC8vIExpdmUgUHJldmlldyBcdTMwRTJcdTMwRkNcdTMwQzlcdTMwNjdcdTc1M0JcdTUwQ0ZcdTMwOTJcdTc2RTNcdTg5OTZcdTMwNTdcdTMwNjZcdTUxRTZcdTc0MDZcdTMwNTlcdTMwOEJcblx0c2V0dXBMaXZlUHJldmlld09ic2VydmVyKCkge1xuXHRcdC8vIFx1NjVFMlx1NUI1OFx1MzA2RU9ic2VydmVyXHUzMDkyXHU1MDVDXHU2QjYyXG5cdFx0aWYgKHRoaXMub2JzZXJ2ZXIpIHtcblx0XHRcdHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXHRcdH1cblxuXHRcdHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG5cdFx0XHRsZXQgbmVlZHNTY2FuID0gZmFsc2U7XG5cdFx0XHRmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykge1xuXHRcdFx0XHQvLyBcdTY1QjBcdTMwNTdcdTMwNEZcdThGRkRcdTUyQTBcdTMwNTVcdTMwOENcdTMwNUZcdTMwQ0VcdTMwRkNcdTMwQzlcdTMwNkVcdTRFMkRcdTMwNEJcdTMwODlcdTc1M0JcdTUwQ0ZcdTMwOTJcdTYzQTJcdTMwNTlcblx0XHRcdFx0aWYgKG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnByb2Nlc3NJbWFnZXMobm9kZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gXHU1QzVFXHU2MDI3XHUzMDRDXHU1OTA5XHUzMDhGXHUzMDYzXHUzMDVGXHU1ODM0XHU1NDA4XHVGRjA4YWx0XHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMDZFXHU1OTA5XHU2NkY0XHUzMDZBXHUzMDY5XHVGRjA5XHUzMDgyXHU1MThEXHUzMEI5XHUzMEFEXHUzMEUzXHUzMEYzXHUzMDU5XHUzMDhCXG5cdFx0XHRcdGlmIChtdXRhdGlvbi50eXBlID09PSBcImF0dHJpYnV0ZXNcIikge1xuXHRcdFx0XHRcdG5lZWRzU2NhbiA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChuZWVkc1NjYW4pIHtcblx0XHRcdFx0dGhpcy5kZWJvdW5jZWRTY2FuQWxsKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBcdTMwRUZcdTMwRkNcdTMwQUZcdTMwQjlcdTMwREFcdTMwRkNcdTMwQjlcdTUxNjhcdTRGNTNcdTMwOTJcdTc2RTNcdTg5OTZcdTMwNTlcdTMwOEJcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndvcmtzcGFjZVwiKTtcblx0XHRpZiAoY29udGFpbmVyKSB7XG5cdFx0XHR0aGlzLm9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyLCB7XG5cdFx0XHRcdGNoaWxkTGlzdDogdHJ1ZSxcblx0XHRcdFx0c3VidHJlZTogdHJ1ZSxcblx0XHRcdFx0Ly8gXHU1QzVFXHU2MDI3XHUzMDZFXHU1OTA5XHU2NkY0XHUzMDgyXHU3NkUzXHU4OTk2XHUzMDU5XHUzMDhCXHVGRjA4YWx0LCBzcmMgXHUzMDZBXHUzMDY5XHUzMDZFXHU1OTA5XHU1MzE2XHUzMDkyXHU2OTFDXHU3N0U1XHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXHVGRjA5XG5cdFx0XHRcdGF0dHJpYnV0ZXM6IHRydWUsXG5cdFx0XHRcdGF0dHJpYnV0ZUZpbHRlcjogW1wiYWx0XCIsIFwic3JjXCIsIFwiY2xhc3NcIl0sXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBcdTY1RTJcdTMwNkJcdTg4NjhcdTc5M0FcdTMwNTVcdTMwOENcdTMwNjZcdTMwNDRcdTMwOEJcdTc1M0JcdTUwQ0ZcdTMwODJcdTUxRTZcdTc0MDZcdTMwNTlcdTMwOEJcblx0XHR0aGlzLmRlYm91bmNlZFNjYW5BbGwoKTtcblx0fVxuXG5cdC8vIFx1NzUzQlx1NTBDRlx1MzA0Q1x1MzBEQVx1MzBGQ1x1MzBCOVx1MzBDOC9cdTMwQzlcdTMwRURcdTMwQzNcdTMwRDdcdTMwNTVcdTMwOENcdTMwNUZcdTMwNjhcdTMwNERcdTMwMDFcdTMwQzdcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzhcdTMwNkUlXHU1MDI0XHUzMDkyXHU4MUVBXHU1MkQ1XHUzMDY3XHU4RkZEXHU1MkEwXHUzMDU5XHUzMDhCXG5cdGhhbmRsZUltYWdlSW5zZXJ0KGVkaXRvcjogYW55KSB7XG5cdFx0Y29uc3QgZGVmYXVsdFBlcmNlbnQgPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRQZXJjZW50O1xuXG5cdFx0Ly8gXHU1QzExXHUzMDU3XHU1Rjg1XHUzMDYzXHUzMDY2XHUzMDRCXHUzMDg5T2JzaWRpYW5cdTMwNENcdTc1M0JcdTUwQ0ZcdTMwRUFcdTMwRjNcdTMwQUZcdTMwOTJcdTY2RjhcdTMwNERcdThGQkNcdTMwODBcdTMwNkVcdTMwOTJcdTVGODVcdTMwNjRcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRcdGNvbnN0IGxpbmUgPSBlZGl0b3IuZ2V0TGluZShjdXJzb3IubGluZSk7XG5cblx0XHRcdC8vIFx1NzUzQlx1NTBDRlx1MzBFQVx1MzBGM1x1MzBBRlx1MzA2RVx1MzBEMVx1MzBCRlx1MzBGQ1x1MzBGM1x1MzA5Mlx1NjNBMlx1MzA1OTogIVtbXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU1NDBEXV0gXHVGRjA4JVx1MzA0Q1x1MzA3RVx1MzA2MFx1NEVEOFx1MzA0NFx1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NFx1MzA4Mlx1MzA2RVx1RkYwOVxuXHRcdFx0Ly8gXHU3NTNCXHU1MENGXHUzMDZFXHU2MkUxXHU1RjM1XHU1QjUwXHUzMDY3XHU1MjI0XHU1QjlBXHUzMDU5XHUzMDhCXG5cdFx0XHRjb25zdCBpbWFnZVBhdHRlcm4gPSAvIVxcW1xcWyhbXlxcXV0rXFwuKHBuZ3xqcGd8anBlZ3xnaWZ8Ym1wfHN2Z3x3ZWJwfGF2aWZ8aGVpY3x0aWZ8dGlmZikpXFxdXFxdL2dpO1xuXHRcdFx0bGV0IG5ld0xpbmUgPSBsaW5lO1xuXHRcdFx0bGV0IG1vZGlmaWVkID0gZmFsc2U7XG5cblx0XHRcdG5ld0xpbmUgPSBsaW5lLnJlcGxhY2UoaW1hZ2VQYXR0ZXJuLCAobWF0Y2g6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZywgZXh0OiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Ly8gXHU2NUUyXHUzMDZCXHUzMEQxXHUzMEZDXHUzMEJCXHUzMEYzXHUzMEM4XHU2MzA3XHU1QjlBXHUzMDg0XHUzMEI1XHUzMEE0XHUzMEJBXHU2MzA3XHU1QjlBXHUzMDRDXHUzMDQyXHUzMDhCXHU1ODM0XHU1NDA4XHUzMDZGXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHUzMDU5XHUzMDhCXG5cdFx0XHRcdGlmIChmaWxlbmFtZS5pbmNsdWRlcyhcInxcIikpIHJldHVybiBtYXRjaDtcblx0XHRcdFx0bW9kaWZpZWQgPSB0cnVlO1xuXHRcdFx0XHRyZXR1cm4gYCFbWyR7ZmlsZW5hbWV9fCR7ZGVmYXVsdFBlcmNlbnR9JV1dYDtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAobW9kaWZpZWQpIHtcblx0XHRcdFx0ZWRpdG9yLnNldExpbmUoY3Vyc29yLmxpbmUsIG5ld0xpbmUpO1xuXHRcdFx0fVxuXHRcdH0sIDUwMCk7XG5cdH1cbn1cblxuLy8gXHU4QTJEXHU1QjlBXHU3NTNCXHU5NzYyXG5jbGFzcyBBZHZhbmNlZEltYWdlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IEFkdmFuY2VkSW1hZ2VQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQWR2YW5jZWRJbWFnZVBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Ly8gXHUzMEM3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEM4XHUzMDZFXHUzMEQxXHUzMEZDXHUzMEJCXHUzMEYzXHUzMEM4XHU1MDI0XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlx1MzBDN1x1MzBENVx1MzBBOVx1MzBFQlx1MzBDOFx1MzA2RVx1MzBEMVx1MzBGQ1x1MzBCQlx1MzBGM1x1MzBDOFx1NTAyNFwiKVxuXHRcdFx0LnNldERlc2MoXCJcdTc1M0JcdTUwQ0ZcdTMwOTJcdTMwREFcdTMwRkNcdTMwQjlcdTMwQzhcdTMwNTdcdTMwNUZcdTMwNjhcdTMwNERcdTMwMDFcdTgxRUFcdTUyRDVcdTMwNjdcdTRFRDhcdTMwNEZcdTMwRDFcdTMwRkNcdTMwQkJcdTMwRjNcdTMwQzhcdTUwMjRcdUZGMDgxMFx1MzAxQzEwMFx1RkYwOVwiKVxuXHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDEwLCAxMDAsIDUpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRQZXJjZW50KVxuXHRcdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFBlcmNlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0Ly8gXHUzMEUyXHUzMEQwXHUzMEE0XHUzMEVCXHUzMDY3XHU4MUVBXHU1MkQ1MTAwJVx1ODg2OFx1NzkzQVxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJcdTMwRTJcdTMwRDBcdTMwQTRcdTMwRUJcdTMwNjdcdTgxRUFcdTUyRDUxMDAlXHU4ODY4XHU3OTNBXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlx1NzUzQlx1OTc2Mlx1NUU0NVx1MzA0Q1x1NUMwRlx1MzA1NVx1MzA0NFx1MzBDN1x1MzBEMFx1MzBBNFx1MzBCOVx1MzA2N1x1MzA2Rlx1MzAwMVx1MzBEMVx1MzBGQ1x1MzBCQlx1MzBGM1x1MzBDOFx1NjMwN1x1NUI5QVx1MzA2Qlx1OTVBMlx1NEZDMlx1MzA2QVx1MzA0Rlx1NzUzQlx1NTBDRlx1MzA5MjEwMCVcdTVFNDVcdTMwNjdcdTg4NjhcdTc5M0FcdTMwNTdcdTMwN0VcdTMwNTlcIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vYmlsZUF1dG9GdWxsKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vYmlsZUF1dG9GdWxsID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdC8vIFx1MzBFMlx1MzBEMFx1MzBBNFx1MzBFQlx1NTIyNFx1NUI5QVx1MzA2RVx1MzA1N1x1MzA0RFx1MzA0NFx1NTAyNFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJcdTMwRTJcdTMwRDBcdTMwQTRcdTMwRUJcdTUyMjRcdTVCOUFcdTMwNkVcdTc1M0JcdTk3NjJcdTVFNDVcdUZGMDhweFx1RkYwOVwiKVxuXHRcdFx0LnNldERlc2MoXCJcdTMwNTNcdTMwNkVcdTVFNDVcdTRFRTVcdTRFMEJcdTMwNkVcdTMwQzdcdTMwRDBcdTMwQTRcdTMwQjlcdTMwOTJcdTMwRTJcdTMwRDBcdTMwQTRcdTMwRUJcdTMwNjhcdTMwNTdcdTMwNjZcdTYyNzFcdTMwNDRcdTMwN0VcdTMwNTlcdUZGMDhcdTUyMURcdTY3MUZcdTUwMjQ6IDc2OFx1RkYwOVwiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCI3NjhcIilcblx0XHRcdFx0XHQuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vYmlsZVRocmVzaG9sZCkpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcblx0XHRcdFx0XHRcdGlmICghaXNOYU4obnVtKSAmJiBudW0gPiAwKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vYmlsZVRocmVzaG9sZCA9IG51bTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7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
